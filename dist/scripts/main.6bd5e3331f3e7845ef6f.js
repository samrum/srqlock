(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{CLnM:function(t,e,i){t.exports=i.p+"sounds/unitocknight.mp3"},FZBc:function(t,e,i){"use strict";i.r(e);var n=i("RPRI"),s=i.n(n),r=i("CLnM"),a=i.n(r);class o{constructor(){this.tracks={},this.audioPlaying=!1}init(){this.initAudioTracks(),document.getElementById("musicToggle").addEventListener("click",this.toggleAudioPlaying.bind(this),!1)}initAudioTracks(){[{name:"day",filePath:s.a},{name:"night",filePath:a.a}].forEach(t=>{this.tracks[t.name]=document.createElement("audio"),this.tracks[t.name].src=t.filePath,this.tracks[t.name].preload="none",this.tracks[t.name].loop=!0})}toggleAudioPlaying(){Object.keys(this.tracks).forEach(t=>{this.audioPlaying?(this.tracks[t].pause(),this.tracks[t].currentTime=0):(this.tracks[t].muted=!0,this.tracks[t].play())}),this.audioPlaying=!this.audioPlaying}triggerMusic(t){this.audioPlaying&&(t&&this.tracks.night.readyState>=3?(this.tracks.day.pause(),this.tracks.night.muted&&(this.tracks.night.currentTime=0,this.tracks.night.muted=!1),this.tracks.night.play()):this.tracks.day.readyState>=3&&(this.tracks.night.pause(),this.tracks.day.muted&&(this.tracks.day.currentTime=0,this.tracks.day.muted=!1),this.tracks.day.play()))}tearDown(){document.getElementById("musicToggle").removeEventListener("click",this.toggleAudioPlaying.bind(this),!1)}}class d{constructor(){this.renderCount=0}init(t){this.element=t}hide(){this.element.style.display="none"}show(){this.element.style.display="block"}reset(){this.renderCount=0,this.element.style.top="100%",this.element.style.left="0"}render(){this.renderCount=3===this.renderCount?0:this.renderCount+1}renderHide(t){t.isNight?this.hide():this.renderAnimated(t)}renderStatic(){this.element.style.left="0",this.element.style.top="0",this.show()}renderAnimated(t){this.renderStatic(t),this.updateAnimationClass()}updateAnimationClass(){0===this.renderCount?(this.element.classList.remove("moveOutLeft"),this.element.classList.add("moveInFromBottom")):1===this.renderCount?(this.element.classList.remove("moveInFromBottom"),this.element.classList.add("moveOutRight")):2===this.renderCount?(this.element.classList.remove("moveOutRight"),this.element.classList.add("moveInFromTop")):(this.element.classList.remove("moveInFromTop"),this.element.classList.add("moveOutLeft"))}tearDown(){this.reset()}}class c{constructor(){this.apiKey="LmjnOE0NApPbHRthjEwnK1oTnXJtX422"}getGiphy(){const t="https://api.giphy.com/v1/gifs/random?api_key=".concat(this.apiKey,"&rating=g&tag=prfm"),e={accept:"image/*"};return new Promise((i,n)=>{(function(t,e={}){return new Promise((i,n)=>{fetch(t,{method:"GET",headers:new Headers(e)}).then(t=>{if(!t.ok)throw Error(t.statusText);return t.json()}).then(t=>i(t)).catch(t=>n(t))})})(t,e).then(t=>i(t)).catch(t=>n(t))})}}class h extends d{constructor(){super(),this.giphy=new c}init(t){super.init(t),this.featuredContent=document.getElementById("featuredContent"),this.featuredVideo=document.getElementById("featuredVideo")}reset(){this.hideFeaturedContent(),super.reset()}render(t){t.hideFeaturedContent&&(this.hideFeaturedContent(),this.giphy.getGiphy().then(t=>{this.featuredVideo.src=t.data.image_mp4_url}).catch(t=>console.error(t))),t.showFeaturedContent?(this.showFeaturedContent(),this.renderHide(t)):t.isNight?this.renderStatic(t):this.renderAnimated(t),super.render(t)}renderStatic(t){this.element.style.backgroundColor=t.displayProperties.backgroundColor,super.renderStatic(t)}hideFeaturedContent(){this.featuredContent.style.display="none"}showFeaturedContent(){this.featuredContent.style.display="flex"}}class u extends d{init(t){super.init(t),this.clockHeadline=document.getElementById("clockHeadline"),this.clockByline=document.getElementById("clockByline"),this.clockByline.textContent="samrum",this.musicToggle=document.getElementById("musicToggle"),this.musicToggle.style.display="block"}show(){this.element.style.display="flex"}render(t){t.animateOut?this.renderHide(t):t.animateIn&&!t.isNight?this.renderAnimated(t):this.renderStatic(t),super.render(t)}renderStatic(t){const{backgroundColor:e,textColor:i}=t.displayProperties;this.clockHeadline.textContent=t.timeString,this.element.style.color=[0,2].indexOf(this.renderCount)>=0||t.isNight?"#fff":i,this.musicToggle.style.backgroundColor=e,super.renderStatic(t)}}const l={morning:0,afternoon:1,evening:2,night:3};function m(t){const e=t||new Date;let i=e.getHours(),n=e.getMinutes(),s=e.getSeconds();return 0===i?i=12:i>12&&(i-=12),n<10&&(n="0".concat(n)),s<10&&(s="0".concat(s)),"".concat(i," ").concat(n," ").concat(s)}class g{constructor(){this.transitionsPaused=!1,this.transitionsDone=0,this.clockTime=5,this.featuredTime=6,this.musicManager=new o,this.background=new h,this.foreground=new u,this.updateIntervalId=null}init(){this.musicManager.init(),this.background.init(document.getElementById("clockBackground")),this.foreground.init(document.getElementById("clockTime")),this.updateScreen(),this.updateIntervalId=setInterval(this.updateScreen.bind(this),1e3)}updateScreen(){const t=new Date,e=function(t){const e=(t||new Date).getHours();let i=l.evening;return e<6||e>22?i=l.night:e<11?i=l.morning:e>10&&e<18&&(i=l.afternoon),i}(t),i=e===l.night;if(this.musicManager.triggerMusic(i),this.transitionsDone===this.clockTime+this.featuredTime&&(this.transitionsDone=0,this.transitionsPaused=!1),!this.transitionsPaused){this.transitionsPaused=this.transitionsDone===this.clockTime;const n=this.getDisplayProperties(e);this.foreground.render({isNight:i,displayProperties:n,animateOut:this.transitionsPaused,animateIn:0===this.transitionsDone,timeString:m(t)}),this.background.render({isNight:i,displayProperties:n,showFeaturedContent:this.transitionsPaused,hideFeaturedContent:1===this.transitionsDone})}this.transitionsDone=this.transitionsDone+1}getDisplayProperties(t){let e;switch(t){case l.morning:e="#568bdd";break;case l.afternoon:e="#145ecf";break;case l.evening:e="#285eb0";break;case l.night:e="#0c387c";break;default:e="#145ecf"}return{textColor:this.transitionsPaused?"#fff":e,backgroundColor:e}}tearDown(){clearInterval(this.updateIntervalId),this.background.tearDown(),this.foreground.tearDown(),this.musicManager.tearDown()}}i("sg+I");function p(){(new g).init()}(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?p():document.addEventListener("DOMContentLoaded",p)},RPRI:function(t,e,i){t.exports=i.p+"sounds/unitock.mp3"},"sg+I":function(t,e,i){}},[["FZBc",1]]]);