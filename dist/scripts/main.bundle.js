!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){n(1),t.exports=n(9)},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),s=new i.default;document.addEventListener("DOMContentLoaded",s.init.bind(s),!1)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=i(n(3)),o=i(n(6)),r=i(n(7)),c=n(8),u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.transitionsPaused=!1,this.transitionsDone=0,this.clockTime=5,this.contentTime=6,this.musicManager=new a.default,this.background=new o.default,this.foreground=new r.default,this.updateIntervalId=null}return s(t,[{key:"init",value:function(){this.musicManager.init(),this.background.init(),this.foreground.init(),this.updateScreen(),this.updateIntervalId=setInterval(this.updateScreen.bind(this),1e3)}},{key:"updateScreen",value:function(){var t=new Date("November 1, 2017 13:13:13"),e=(0,c.getTimeOfDay)(t),n=this.getDisplayProperties(e),i=e===c.timesOfDay.night;this.musicManager.triggerMusic(i),this.transitionsDone===this.clockTime+this.contentTime&&(this.transitionsDone=0,this.transitionsPaused=!1),this.transitionsPaused||(this.transitionsPaused=this.transitionsDone===this.clockTime,this.foreground.render({isNight:i,displayProperties:n,hide:this.transitionsPaused,show:0===this.transitionsDone,timeString:(0,c.getFormattedTime)(t),backgroundPosition:this.background.getBackgroundPosition()}),this.background.render({isNight:i,showFeaturedContent:this.transitionsPaused,hideFeaturedContent:1===this.transitionsDone,color:n.backgroundColor})),this.transitionsDone=this.transitionsDone+1}},{key:"getDisplayProperties",value:function(t){var e=void 0,n=void 0;switch(t){case c.timesOfDay.morning:e="#568BDD";break;case c.timesOfDay.afternoon:e="#145ECF";break;case c.timesOfDay.evening:e="#285EB0";break;case c.timesOfDay.night:e="#0C387C";break;default:e="#145ECF"}if([0,2].indexOf(this.background.getBackgroundPosition())>=0)n="#FFFFFF";else switch(t){case c.timesOfDay.afternoon:n="#145ECF";break;case c.timesOfDay.evening:n="#285EB8";break;default:n="#568BDD"}return{textColor:n,backgroundColor:e}}},{key:"tearDown",value:function(){clearInterval(this.updateIntervalId),this.background.tearDown(),this.foreground.tearDown(),this.musicManager.tearDown()}}]),t}();e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=i(n(4)),o=i(n(5)),r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tracks={},this.audioPlaying=!1}return s(t,[{key:"init",value:function(){this.initAudioTracks(),document.getElementById("musicToggle").addEventListener("click",this.toggleAudioPlaying.bind(this),!1)}},{key:"initAudioTracks",value:function(){var t=this;[{name:"day",filePath:a.default},{name:"night",filePath:o.default}].forEach(function(e){t.tracks[e.name]=document.createElement("audio"),t.tracks[e.name].src=e.filePath,t.tracks[e.name].preload="none",t.tracks[e.name].loop=!0})}},{key:"toggleAudioPlaying",value:function(){var t=this;Object.keys(this.tracks).forEach(function(e){t.audioPlaying?(t.tracks[e].pause(),t.tracks[e].currentTime=0):(t.tracks[e].muted=!0,t.tracks[e].play())}),this.audioPlaying=!this.audioPlaying}},{key:"triggerMusic",value:function(t){this.audioPlaying&&(t&&this.tracks.night.readyState>=3?(this.tracks.day.pause(),this.tracks.night.muted&&(this.tracks.night.currentTime=0,this.tracks.night.muted=!1),this.tracks.night.play()):this.tracks.day.readyState>=3&&(this.tracks.night.pause(),this.tracks.day.muted&&(this.tracks.day.currentTime=0,this.tracks.day.muted=!1),this.tracks.day.play()))}},{key:"tearDown",value:function(){document.getElementById("musicToggle").removeEventListener("click",this.toggleAudioPlaying.bind(this),!1)}}]),t}();e.default=r},function(t,e,n){t.exports=n.p+"sounds/unitock.mp3"},function(t,e,n){t.exports=n.p+"sounds/unitocknight.mp3"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvasContext=null,this.canvasDimensions=null,this.backgroundPosition=0,this.canvasPositionOffset=100}return i(t,[{key:"init",value:function(){this.canvas=document.getElementById("clockBackground"),this.featuredContent=document.getElementById("featuredContent"),this.canvasContext=this.canvas.getContext("2d"),this.initCanvas(),window.addEventListener("resize",this.initCanvas.bind(this),!1)}},{key:"initCanvas",value:function(){var t=window.devicePixelRatio||1;this.canvasDimensions={width:window.innerWidth,height:window.innerHeight};var e=this.canvasContext.canvas;e.width=this.canvasDimensions.width*t,e.height=this.canvasDimensions.height*t,e.style.width=this.canvasDimensions.width+"px",e.style.height=this.canvasDimensions.height+"px",this.canvasContext.scale(t,t)}},{key:"hide",value:function(){this.canvas.style.display="none"}},{key:"show",value:function(){this.canvas.style.display="block"}},{key:"clear",value:function(){this.canvasContext.clearRect(0,0,this.canvasDimensions.width,this.canvasDimensions.height)}},{key:"getBackgroundPosition",value:function(){return this.backgroundPosition}},{key:"render",value:function(t){t.hideFeaturedContent&&(this.featuredContent.style.display="none"),t.showFeaturedContent?(this.featuredContent.style.display="flex",t.isNight?this.hide():this.renderAnimated(t.color)):t.isNight?this.renderStatic(t.color):this.renderAnimated(t.color)}},{key:"renderStatic",value:function(t){this.canvas.style.left="0",this.canvas.style.top="0",this.show(),this.canvasContext.fillStyle=t,this.canvasContext.fillRect(0,0,this.canvasDimensions.width,this.canvasDimensions.height)}},{key:"renderAnimated",value:function(t){this.renderStatic(t),0===this.backgroundPosition?(this.canvas.classList.remove("moveOutLeft"),this.canvas.classList.add("moveInFromBottom")):1===this.backgroundPosition?(this.canvas.classList.remove("moveInFromBottom"),this.canvas.classList.add("moveOutRight")):2===this.backgroundPosition?(this.canvas.classList.remove("moveOutRight"),this.canvas.classList.add("moveInFromTop")):(this.canvas.classList.remove("moveInFromTop"),this.canvas.classList.add("moveOutLeft")),this.backgroundPosition=3===this.backgroundPosition?0:this.backgroundPosition+1}},{key:"tearDown",value:function(){this.clear(),window.removeEventListener("resize",this.initCanvas.bind(this),!1)}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvasContext=null,this.canvasDimensions=null,this.canvasPositionOffset=100}return i(t,[{key:"init",value:function(){this.canvas=document.getElementById("clockTime"),this.canvasContext=this.canvas.getContext("2d"),this.musicToggle=document.getElementById("musicToggle"),this.initCanvas(),window.addEventListener("resize",this.initCanvas.bind(this),!1)}},{key:"initCanvas",value:function(){var t=window.devicePixelRatio||1;this.canvasDimensions={width:window.innerWidth,height:window.innerHeight};var e=this.canvasContext.canvas;e.width=this.canvasDimensions.width*t,e.height=this.canvasDimensions.height*t,e.style.width=this.canvasDimensions.width+"px",e.style.height=this.canvasDimensions.height+"px",this.canvasContext.scale(t,t)}},{key:"hide",value:function(){this.canvas.style.display="none"}},{key:"show",value:function(){this.canvas.style.display="block"}},{key:"clear",value:function(){this.show(),this.canvas.style.left="0",this.canvas.style.top="0",this.canvasContext.clearRect(0,0,this.canvasDimensions.width,this.canvasDimensions.height)}},{key:"render",value:function(t){t.hide?t.isNight?this.hide():this.renderAnimated(!1,t.displayProperties,t.timeString,t.backgroundPosition):t.show&&!t.isNight?this.renderAnimated(!0,t.displayProperties,t.timeString,t.backgroundPosition):this.renderStatic(t.displayProperties,t.timeString,!1)}},{key:"renderAnimated",value:function(t,e,n,i){this.renderStatic(e,n,!t),0===i?(this.canvas.classList.remove("moveOutLeft"),this.canvas.classList.add("moveInFromBottom")):1===i?(this.canvas.classList.remove("moveInFromBottom"),this.canvas.classList.add("moveOutRight")):2===i?(this.canvas.classList.remove("moveOutRight"),this.canvas.classList.add("moveInFromTop")):(this.canvas.classList.remove("moveInFromTop"),this.canvas.classList.add("moveOutLeft"))}},{key:"renderStatic",value:function(t,e,n){var i=t.backgroundColor,s=t.textColor;this.musicToggle.style.backgroundColor=i,this.clear(),n||(this.canvasContext.fillStyle=s),this.canvasContext.font="bold 6em Arial",this.canvasContext.textAlign="center",this.canvasContext.fillText(e,this.canvasDimensions.width/2,this.canvasDimensions.height/2),this.canvasContext.font="3em Arial",this.canvasContext.fillText("samrum",this.canvasDimensions.width/2,this.canvasDimensions.height/2+60)}},{key:"tearDown",value:function(){this.clear(),window.removeEventListener("resize",this.initCanvas.bind(this),!1)}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTimeOfDay=function(t){var e=(t||new Date).getHours(),n=i.evening;return e<6||e>22?n=i.night:e<11?n=i.morning:e>10&&e<18&&(n=i.afternoon),n},e.getFormattedTime=function(t){var e=t||new Date,n=e.getHours(),i=e.getMinutes(),s=e.getSeconds();return 0===n?n=12:n>12&&(n-=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n+" "+i+" "+s};var i=e.timesOfDay={morning:0,afternoon:1,evening:2,night:3}},function(t,e){}]);
//# sourceMappingURL=main.bundle.js.map