!function(t){function n(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var i={};n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,i){i(1),t.exports=i(9)},function(t,n,i){"use strict";var e=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),s=new e.default;document.addEventListener("DOMContentLoaded",s.init.bind(s),!1)},function(t,n,i){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}(),a=e(i(3)),o=e(i(6)),r=e(i(7)),c=i(8),u=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.transitionsPaused=!1,this.transitionsDone=0,this.clockTime=5,this.contentTime=6,this.musicManager=new a.default,this.background=new o.default,this.foreground=new r.default,this.updateIntervalId=null}return s(t,[{key:"init",value:function(){this.musicManager.init(),this.background.init(),this.foreground.init(),this.updateScreen(),this.updateIntervalId=setInterval(this.updateScreen.bind(this),1e3)}},{key:"updateScreen",value:function(){var t=new Date,n=(0,c.getTimeOfDay)(t),i=this.getDisplayProperties(n),e=n===c.timesOfDay.night;this.musicManager.triggerMusic(e),this.transitionsDone===this.clockTime+this.contentTime&&(this.transitionsDone=0,this.transitionsPaused=!1),this.transitionsPaused||(this.renderForeground(e,i,t),this.renderBackground(e,i.backgroundColor),this.transitionsPaused=this.transitionsDone===this.clockTime),this.transitionsDone=this.transitionsDone+1}},{key:"renderForeground",value:function(t,n,i){var e=(0,c.getFormattedTime)(i);this.transitionsDone===this.clockTime?t?this.foreground.hide():this.foreground.renderAnimated(!1,n,e,this.background.getBackgroundPosition()):0!==this.transitionsDone||t?this.foreground.render(n,e,!1):this.foreground.renderAnimated(!0,n,e,this.background.getBackgroundPosition())}},{key:"renderBackground",value:function(t,n){this.transitionsDone===this.clockTime?t?this.background.hide():this.background.renderDisplay(!1,n):0!==this.transitionsDone||t?t?this.background.renderStatic(n):this.background.renderAnimated(n):this.background.renderDisplay(!0,n)}},{key:"getDisplayProperties",value:function(t){var n=void 0,i=void 0;switch(t){case c.timesOfDay.morning:n="#568BDD";break;case c.timesOfDay.afternoon:n="#145ECF";break;case c.timesOfDay.evening:n="#285EB0";break;case c.timesOfDay.night:n="#0C387C";break;default:n="#145ECF"}if([0,2].indexOf(this.background.getBackgroundPosition())>=0)i="#FFFFFF";else switch(t){case c.timesOfDay.afternoon:i="#145ECF";break;case c.timesOfDay.evening:i="#285EB8";break;default:i="#568BDD"}return{textColor:i,backgroundColor:n}}},{key:"tearDown",value:function(){clearInterval(this.updateIntervalId),this.background.tearDown(),this.foreground.tearDown(),this.musicManager.tearDown()}}]),t}();n.default=u},function(t,n,i){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}(),a=e(i(4)),o=e(i(5)),r=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.tracks={},this.audioPlaying=!1}return s(t,[{key:"init",value:function(){this.initAudioTracks(),document.getElementById("musicToggle").addEventListener("click",this.toggleAudioPlaying.bind(this),!1)}},{key:"initAudioTracks",value:function(){var t=this;[{name:"day",filePath:a.default},{name:"night",filePath:o.default}].forEach(function(n){t.tracks[n.name]=document.createElement("audio"),t.tracks[n.name].src=n.filePath,t.tracks[n.name].preload="none",t.tracks[n.name].loop=!0})}},{key:"toggleAudioPlaying",value:function(){var t=this;Object.keys(this.tracks).forEach(function(n){t.audioPlaying?(t.tracks[n].pause(),t.tracks[n].currentTime=0):(t.tracks[n].muted=!0,t.tracks[n].play())}),this.audioPlaying=!this.audioPlaying}},{key:"triggerMusic",value:function(t){this.audioPlaying&&(t&&this.tracks.night.readyState>=3?(this.tracks.day.pause(),this.tracks.night.muted&&(this.tracks.night.currentTime=0,this.tracks.night.muted=!1),this.tracks.night.play()):this.tracks.day.readyState>=3&&(this.tracks.night.pause(),this.tracks.day.muted&&(this.tracks.day.currentTime=0,this.tracks.day.muted=!1),this.tracks.day.play()))}},{key:"tearDown",value:function(){document.getElementById("musicToggle").removeEventListener("click",this.toggleAudioPlaying.bind(this),!1)}}]),t}();n.default=r},function(t,n,i){t.exports=i.p+"sounds/unitock.mp3"},function(t,n,i){t.exports=i.p+"sounds/unitocknight.mp3"},function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}(),s=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvasContext=null,this.canvasDimensions=null,this.animationSpeeds=null,this.backgroundLocation={x:0,y:0},this.backgroundPosition=0,this.canvasPositionOffset=100}return e(t,[{key:"init",value:function(){this.canvas=document.getElementById("clockBackground"),this.canvasContext=this.canvas.getContext("2d"),this.initCanvas(),window.addEventListener("resize",this.initCanvas.bind(this),!1)}},{key:"initCanvas",value:function(){var t=window.devicePixelRatio||1;this.canvasDimensions={width:window.innerWidth,height:window.innerHeight},this.animationSpeeds={x:this.canvasDimensions.width/60*3.5,y:this.canvasDimensions.height/60*3.5};var n=this.canvasContext.canvas;n.width=this.canvasDimensions.width*t,n.height=this.canvasDimensions.height*t,n.style.width=this.canvasDimensions.width+"px",n.style.height=this.canvasDimensions.height+"px",this.canvasContext.scale(t,t)}},{key:"hide",value:function(){this.canvas.style.display="none"}},{key:"show",value:function(){this.canvas.style.display="block"}},{key:"getBackgroundPosition",value:function(){return this.backgroundPosition}},{key:"renderStatic",value:function(t){this.canvas.style.left="0",this.canvas.style.top="0",this.canvasContext.fillStyle=t,this.canvasContext.fillRect(0,0,this.canvasDimensions.width,this.canvasDimensions.height)}},{key:"clearBackground",value:function(t){this.canvasContext.clearRect(t.x,t.y,this.canvasDimensions.width,this.canvasDimensions.height)}},{key:"renderBackground",value:function(t,n){this.show(),this.canvasContext.fillStyle=[0,2].indexOf(this.backgroundPosition)>=0?t:"#fff",this.canvasContext.fillRect(n.x,n.y,this.canvasDimensions.width,this.canvasDimensions.height)}},{key:"updateBackgroundLocation",value:function(){[1,3].indexOf(this.backgroundPosition)>=0?this.backgroundLocation={x:this.canvasDimensions.width*(1===this.backgroundPosition?-1:1),y:0}:this.backgroundLocation={x:0,y:this.canvasDimensions.height*(0===this.backgroundPosition?1:-1)}}},{key:"renderAnimated",value:function(t){this.updateBackgroundLocation(),requestAnimationFrame(this.animateBackground.bind(this,t))}},{key:"animateBackground",value:function(t){var n=[0,2].indexOf(this.backgroundPosition)>=0?"y":"x",i=this.animationSpeeds[n],e=!0;this.renderBackground(t,this.backgroundLocation),[0,3].indexOf(this.backgroundPosition)>=0?(this.backgroundLocation[n]-=i,this.backgroundLocation[n]<=-i&&(this.backgroundPosition=0===this.backgroundPosition?1:0,e=!1)):(this.backgroundLocation[n]+=i,this.backgroundLocation[n]>=i&&(this.backgroundPosition=this.backgroundPosition+1,e=!1)),e&&requestAnimationFrame(this.animateBackground.bind(this,t))}},{key:"updateCanvasPosition",value:function(t){var n=[1,2].indexOf(this.backgroundPosition)>=0?"-"+this.canvasPositionOffset:""+this.canvasPositionOffset,i=[0,2].indexOf(this.backgroundPosition)>=0?"top":"left";t||(n*=-1),this.canvas.style[i]=n+"%"}},{key:"renderDisplay",value:function(t,n){this.canvasPositionOffset=t?100:0,this.renderStatic(n),requestAnimationFrame(this.animateDisplay.bind(this,t))}},{key:"animateDisplay",value:function(t){this.updateCanvasPosition(t),this.canvasPositionOffset=this.canvasPositionOffset-(t?5:-5),this.canvasPositionOffset>=0&&this.canvasPositionOffset<=100?requestAnimationFrame(this.animateDisplay.bind(this,t)):this.backgroundPosition=3===this.backgroundPosition?0:this.backgroundPosition+1}},{key:"tearDown",value:function(){this.canvasContext.clearRect(0,0,this.canvasDimensions.width,this.canvasDimensions.height),window.removeEventListener("resize",this.initCanvas.bind(this),!1)}}]),t}();n.default=s},function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}(),s=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvasContext=null,this.canvasDimensions=null,this.canvasPositionOffset=100}return e(t,[{key:"init",value:function(){this.canvas=document.getElementById("clockTime"),this.canvasContext=this.canvas.getContext("2d"),this.musicToggle=document.getElementById("musicToggle"),this.initCanvas(),window.addEventListener("resize",this.initCanvas.bind(this),!1)}},{key:"initCanvas",value:function(){var t=window.devicePixelRatio||1;this.canvasDimensions={width:window.innerWidth,height:window.innerHeight},this.animationSpeeds={x:this.canvasDimensions.width/60*2,y:this.canvasDimensions.height/60*2};var n=this.canvasContext.canvas;n.width=this.canvasDimensions.width*t,n.height=this.canvasDimensions.height*t,n.style.width=this.canvasDimensions.width+"px",n.style.height=this.canvasDimensions.height+"px",this.canvasContext.scale(t,t)}},{key:"hide",value:function(){this.canvas.style.display="none"}},{key:"show",value:function(){this.canvas.style.display="block"}},{key:"clear",value:function(){this.canvas.style.left="0",this.canvas.style.top="0",this.canvasContext.clearRect(0,0,this.canvasDimensions.width,this.canvasDimensions.height)}},{key:"updateCanvasPosition",value:function(t,n){var i=[1,2].indexOf(n)>=0?"-"+this.canvasPositionOffset:""+this.canvasPositionOffset,e=[0,2].indexOf(n)>=0?"top":"left";t||(i*=-1),this.canvas.style[e]=i+"%"}},{key:"renderAnimated",value:function(t,n,i,e){this.canvasPositionOffset=t?100:0,this.render(n,i,!t),requestAnimationFrame(this.animateForeground.bind(this,t,e))}},{key:"animateForeground",value:function(t,n){this.updateCanvasPosition(t,n),this.canvasPositionOffset=this.canvasPositionOffset-(t?5:-5),this.canvasPositionOffset>=0&&this.canvasPositionOffset<=100&&requestAnimationFrame(this.animateForeground.bind(this,t,n))}},{key:"render",value:function(t,n,i){var e=t.backgroundColor,s=t.textColor;this.musicToggle.style.backgroundColor=e,document.body.style.backgroundColor=e,this.show(),this.clear(),i||(this.canvasContext.fillStyle=s),this.canvasContext.font="bold 95px Arial",this.canvasContext.textAlign="center",this.canvasContext.fillText(n,this.canvasDimensions.width/2,this.canvasDimensions.height/2),this.canvasContext.font="45px Arial",this.canvasContext.fillText("samrum",this.canvasDimensions.width/2,this.canvasDimensions.height/2+60)}},{key:"tearDown",value:function(){this.canvasContext.clearRect(0,0,this.canvasDimensions.width,this.canvasDimensions.height),window.removeEventListener("resize",this.initCanvas.bind(this),!1)}}]),t}();n.default=s},function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getTimeOfDay=function(t){var n=(t||new Date).getHours(),i=e.evening;return n<6||n>22?i=e.night:n<11?i=e.morning:n>10&&n<18&&(i=e.afternoon),i},n.getFormattedTime=function(t){var n=t||new Date,i=n.getHours(),e=n.getMinutes(),s=n.getSeconds();return 0===i?i=12:i>12&&(i-=12),e<10&&(e="0"+e),s<10&&(s="0"+s),i+" "+e+" "+s};var e=n.timesOfDay={morning:0,afternoon:1,evening:2,night:3}},function(t,n){}]);
//# sourceMappingURL=main.bundle.js.map