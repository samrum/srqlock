!function(t){function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){e(1),t.exports=e(9)},function(t,n,e){"use strict";var i=new(function(t){return t&&t.__esModule?t:{default:t}}(e(2)).default);document.addEventListener("DOMContentLoaded",i.init.bind(i),!1)},function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=i(e(3)),o=i(e(6)),r=i(e(7)),c=e(8),u=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.clockPaused=!1,this.musicManager=new s.default,this.background=new o.default,this.foreground=new r.default}return a(t,[{key:"init",value:function(){var t=this;document.addEventListener("blur",function(){t.clockPaused=!0},!1),document.addEventListener("focus",function(){t.clockPaused=!1},!1),this.musicManager.init(),this.background.init(),this.foreground.init(),this.updateScreen(),setInterval(this.updateScreen.bind(this),1e3)}},{key:"updateScreen",value:function(){var t=new Date,n=(0,c.getTimeOfDay)(t),e=this.getDisplayProperties(n),i=n===c.timesOfDay.night;this.musicManager.triggerMusic(i),this.foreground.render(e,(0,c.getFormattedTime)(t)),this.clockPaused||(i?this.background.renderStatic(e.backgroundColor):this.background.renderAnimated(e.backgroundColor))}},{key:"getDisplayProperties",value:function(t){var n=void 0,e=void 0;switch(t){case c.timesOfDay.morning:n="#568BDD";break;case c.timesOfDay.afternoon:n="#145ECF";break;case c.timesOfDay.evening:n="#285EB0";break;case c.timesOfDay.night:n="#0C387C";break;default:n="#145ECF"}if([0,2].indexOf(this.background.getBackgroundPosition())>=0)e="#FFFFFF";else switch(t){case c.timesOfDay.afternoon:e="#145ECF";break;case c.timesOfDay.evening:e="#285EB8";break;default:e="#568BDD"}return{textColor:e,backgroundColor:n}}}]),t}();n.default=u},function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=i(e(4)),o=i(e(5)),r=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.tracks={},this.audioPlaying=!1}return a(t,[{key:"init",value:function(){this.initAudioTracks(),document.getElementById("musicToggle").addEventListener("click",this.toggleAudioPlaying.bind(this),!1)}},{key:"initAudioTracks",value:function(){var t=this;[{name:"day",filePath:s.default},{name:"night",filePath:o.default}].forEach(function(n){t.tracks[n.name]=document.createElement("audio"),t.tracks[n.name].src=n.filePath,t.tracks[n.name].preload="none",t.tracks[n.name].loop=!0})}},{key:"toggleAudioPlaying",value:function(){var t=this;Object.keys(this.tracks).forEach(function(n){t.audioPlaying?(t.tracks[n].pause(),t.tracks[n].currentTime=0):(t.tracks[n].muted=!0,t.tracks[n].play())}),this.audioPlaying=!this.audioPlaying}},{key:"triggerMusic",value:function(t){this.audioPlaying&&(t&&this.tracks.night.readyState>=3?(this.tracks.day.pause(),this.tracks.night.muted&&(this.tracks.night.currentTime=0,this.tracks.night.muted=!1),this.tracks.night.play()):this.tracks.day.readyState>=3&&(this.tracks.night.pause(),this.tracks.day.muted&&(this.tracks.day.currentTime=0,this.tracks.day.muted=!1),this.tracks.day.play()))}}]),t}();n.default=r},function(t,n,e){t.exports=e.p+"sounds/unitock.mp3"},function(t,n,e){t.exports=e.p+"sounds/unitocknight.mp3"},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),a=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvasContext=null,this.canvasDimensions=null,this.animationSpeeds=null,this.backgroundLocation={x:0,y:0},this.backgroundPosition=0}return i(t,[{key:"init",value:function(){this.canvasContext=document.getElementById("clockBackground").getContext("2d"),this.initCanvas(),window.addEventListener("resize",this.initCanvas.bind(this),!1)}},{key:"initCanvas",value:function(){var t=window.devicePixelRatio||1;this.canvasDimensions={width:window.innerWidth,height:window.innerHeight},this.animationSpeeds={x:this.canvasDimensions.width/60*2,y:this.canvasDimensions.height/60*2};var n=this.canvasContext.canvas;n.width=this.canvasDimensions.width*t,n.height=this.canvasDimensions.height*t,n.style.width=this.canvasDimensions.width+"px",n.style.height=this.canvasDimensions.height+"px",this.canvasContext.scale(t,t)}},{key:"getBackgroundPosition",value:function(){return this.backgroundPosition}},{key:"renderStatic",value:function(t){this.renderBackground(t,{x:0,y:0})}},{key:"renderBackground",value:function(t,n){this.canvasContext.fillStyle=[0,2].indexOf(this.backgroundPosition)>=0?t:"#fff",this.canvasContext.fillRect(n.x,n.y,this.canvasDimensions.width,this.canvasDimensions.height)}},{key:"updateBackgroundLocation",value:function(){[1,3].indexOf(this.backgroundPosition)>=0?this.backgroundLocation={x:this.canvasDimensions.width*(1===this.backgroundPosition?-1:1),y:0}:this.backgroundLocation={x:0,y:this.canvasDimensions.height*(0===this.backgroundPosition?1:-1)}}},{key:"renderAnimated",value:function(t){this.updateBackgroundLocation(),requestAnimationFrame(this.animateBackground.bind(this,t))}},{key:"animateBackground",value:function(t){var n=[0,2].indexOf(this.backgroundPosition)>=0?"y":"x",e=this.animationSpeeds[n],i=!0;this.renderBackground(t,this.backgroundLocation),[0,3].indexOf(this.backgroundPosition)>=0?(this.backgroundLocation[n]-=e,this.backgroundLocation[n]<=-e&&(this.backgroundPosition=0===this.backgroundPosition?1:0,i=!1)):(this.backgroundLocation[n]+=e,this.backgroundLocation[n]>=e&&(this.backgroundPosition=this.backgroundPosition+1,i=!1)),i&&requestAnimationFrame(this.animateBackground.bind(this,t))}}]),t}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),a=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvasContext=null,this.canvasDimensions=null}return i(t,[{key:"init",value:function(){this.canvasContext=document.getElementById("clockTime").getContext("2d"),this.initCanvas(),window.addEventListener("resize",this.initCanvas.bind(this),!1)}},{key:"initCanvas",value:function(){var t=window.devicePixelRatio||1;this.canvasDimensions={width:window.innerWidth,height:window.innerHeight},this.animationSpeeds={x:this.canvasDimensions.width/60*2,y:this.canvasDimensions.height/60*2};var n=this.canvasContext.canvas;n.width=this.canvasDimensions.width*t,n.height=this.canvasDimensions.height*t,n.style.width=this.canvasDimensions.width+"px",n.style.height=this.canvasDimensions.height+"px",this.canvasContext.scale(t,t)}},{key:"render",value:function(t,n){var e=t.backgroundColor,i=t.textColor;document.getElementById("musicToggle").style.backgroundColor=e,document.body.style.backgroundColor=e,this.canvasContext.clearRect(0,0,this.canvasDimensions.width,this.canvasDimensions.height),this.canvasContext.fillStyle=i,this.canvasContext.font="bold 95px Arial",this.canvasContext.textAlign="center",this.canvasContext.fillText(n,this.canvasDimensions.width/2,this.canvasDimensions.height/2),this.canvasContext.font="45px Arial",this.canvasContext.fillText("samrum",this.canvasDimensions.width/2,this.canvasDimensions.height/2+60)}}]),t}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getTimeOfDay=function(t){var n=(t||new Date).getHours(),e=i.evening;return n<6||n>22?e=i.night:n<11?e=i.morning:n>10&&n<18&&(e=i.afternoon),e},n.getFormattedTime=function(t){var n=t||new Date,e=n.getHours(),i=n.getMinutes(),a=n.getSeconds();return 0===e?e=12:e>12&&(e-=12),i<10&&(i="0"+i),a<10&&(a="0"+a),e+" "+i+" "+a};var i=n.timesOfDay={morning:0,afternoon:1,evening:2,night:3}},function(t,n){}]);
//# sourceMappingURL=main.bundle.js.map