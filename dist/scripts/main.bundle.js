!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.renderCount=0}return r(e,[{key:"init",value:function(e){this.element=e}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"show",value:function(){this.element.style.display="block"}},{key:"reset",value:function(){this.renderCount=0,this.element.style.top="100%",this.element.style.left="0"}},{key:"render",value:function(){this.renderCount=3===this.renderCount?0:this.renderCount+1}},{key:"renderHide",value:function(e){e.isNight?this.hide():this.renderAnimated(e)}},{key:"renderStatic",value:function(){this.element.style.left="0",this.element.style.top="0",this.show()}},{key:"renderAnimated",value:function(e){this.renderStatic(e),this.updateAnimationClass()}},{key:"updateAnimationClass",value:function(){0===this.renderCount?(this.element.classList.remove("moveOutLeft"),this.element.classList.add("moveInFromBottom")):1===this.renderCount?(this.element.classList.remove("moveInFromBottom"),this.element.classList.add("moveOutRight")):2===this.renderCount?(this.element.classList.remove("moveOutRight"),this.element.classList.add("moveInFromTop")):(this.element.classList.remove("moveInFromTop"),this.element.classList.add("moveOutLeft"))}},{key:"tearDown",value:function(){this.reset()}}]),e}();t.default=o},function(e,t,n){n(2),e.exports=n(12)},function(e,t,n){"use strict";var i=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default;document.addEventListener("DOMContentLoaded",o.init.bind(o),!1)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(4),u=i(a),s=n(7),c=i(s),l=n(10),f=i(l),d=n(11),h=function(){function e(){r(this,e),this.transitionsPaused=!1,this.transitionsDone=0,this.clockTime=5,this.featuredTime=6,this.musicManager=new u.default,this.background=new c.default,this.foreground=new f.default,this.updateIntervalId=null}return o(e,[{key:"init",value:function(){this.musicManager.init(),this.background.init(document.getElementById("clockBackground")),this.foreground.init(document.getElementById("clockTime")),this.updateScreen(),this.updateIntervalId=setInterval(this.updateScreen.bind(this),1e3)}},{key:"updateScreen",value:function(){var e=new Date,t=(0,d.getTimeOfDay)(e),n=t===d.timesOfDay.night;if(this.musicManager.triggerMusic(n),this.transitionsDone===this.clockTime+this.featuredTime&&(this.transitionsDone=0,this.transitionsPaused=!1),!this.transitionsPaused){this.transitionsPaused=this.transitionsDone===this.clockTime;var i=this.getDisplayProperties(t);this.foreground.render({isNight:n,displayProperties:i,animateOut:this.transitionsPaused,animateIn:0===this.transitionsDone,timeString:(0,d.getFormattedTime)(e)}),this.background.render({isNight:n,displayProperties:i,showFeaturedContent:this.transitionsPaused,hideFeaturedContent:1===this.transitionsDone})}this.transitionsDone=this.transitionsDone+1}},{key:"getDisplayProperties",value:function(e){var t=void 0;switch(e){case d.timesOfDay.morning:t="#568bdd";break;case d.timesOfDay.afternoon:t="#145ecf";break;case d.timesOfDay.evening:t="#285eb0";break;case d.timesOfDay.night:t="#0c387c";break;default:t="#145ecf"}return{textColor:this.transitionsPaused?"#fff":t,backgroundColor:t}}},{key:"tearDown",value:function(){clearInterval(this.updateIntervalId),this.background.tearDown(),this.foreground.tearDown(),this.musicManager.tearDown()}}]),e}();t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(5),u=i(a),s=n(6),c=i(s),l=function(){function e(){r(this,e),this.tracks={},this.audioPlaying=!1}return o(e,[{key:"init",value:function(){this.initAudioTracks(),document.getElementById("musicToggle").addEventListener("click",this.toggleAudioPlaying.bind(this),!1)}},{key:"initAudioTracks",value:function(){var e=this;[{name:"day",filePath:u.default},{name:"night",filePath:c.default}].forEach(function(t){e.tracks[t.name]=document.createElement("audio"),e.tracks[t.name].src=t.filePath,e.tracks[t.name].preload="none",e.tracks[t.name].loop=!0})}},{key:"toggleAudioPlaying",value:function(){var e=this;Object.keys(this.tracks).forEach(function(t){e.audioPlaying?(e.tracks[t].pause(),e.tracks[t].currentTime=0):(e.tracks[t].muted=!0,e.tracks[t].play())}),this.audioPlaying=!this.audioPlaying}},{key:"triggerMusic",value:function(e){this.audioPlaying&&(e&&this.tracks.night.readyState>=3?(this.tracks.day.pause(),this.tracks.night.muted&&(this.tracks.night.currentTime=0,this.tracks.night.muted=!1),this.tracks.night.play()):this.tracks.day.readyState>=3&&(this.tracks.night.pause(),this.tracks.day.muted&&(this.tracks.day.currentTime=0,this.tracks.day.muted=!1),this.tracks.day.play()))}},{key:"tearDown",value:function(){document.getElementById("musicToggle").removeEventListener("click",this.toggleAudioPlaying.bind(this),!1)}}]),e}();t.default=l},function(e,t,n){e.exports=n.p+"sounds/unitock.mp3"},function(e,t,n){e.exports=n.p+"sounds/unitocknight.mp3"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(0),l=i(c),f=n(8),d=i(f),h=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.giphy=new d.default,e}return a(t,e),u(t,[{key:"init",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.featuredContent=document.getElementById("featuredContent"),this.featuredVideo=document.getElementById("featuredVideo")}},{key:"reset",value:function(){this.hideFeaturedContent(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"render",value:function(e){var n=this;e.hideFeaturedContent&&(this.hideFeaturedContent(),this.giphy.getGiphy().then(function(e){n.featuredVideo.src=e.data.image_mp4_url}).catch(function(e){return console.error(e)})),e.showFeaturedContent?(this.showFeaturedContent(),this.renderHide(e)):e.isNight?this.renderStatic(e):this.renderAnimated(e),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e)}},{key:"renderStatic",value:function(e){this.element.style.backgroundColor=e.displayProperties.backgroundColor,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"renderStatic",this).call(this,e)}},{key:"hideFeaturedContent",value:function(){this.featuredContent.style.display="none"}},{key:"showFeaturedContent",value:function(){this.featuredContent.style.display="flex"}}]),t}(l.default);t.default=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(9),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(){i(this,e),this.apiKey="LmjnOE0NApPbHRthjEwnK1oTnXJtX422"}return r(e,[{key:"getGiphy",value:function(){var e="https://api.giphy.com/v1/gifs/random?api_key="+this.apiKey+"&rating=g&tag=prfm",t={accept:"image/*"};return new Promise(function(n,i){(0,a.default)(e,t).then(function(e){return n(e)}).catch(function(e){return i(e)})})}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,i){fetch(e,{method:"GET",headers:new Headers(t)}).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(e){return n(e)}).catch(function(e){return i(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},s=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"init",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.clockHeadline=document.getElementById("clockHeadline"),this.clockByline=document.getElementById("clockByline"),this.clockByline.textContent="samrum",this.musicToggle=document.getElementById("musicToggle"),this.musicToggle.style.display="block"}},{key:"show",value:function(){this.element.style.display="flex"}},{key:"render",value:function(e){e.animateOut?this.renderHide(e):e.animateIn&&!e.isNight?this.renderAnimated(e):this.renderStatic(e),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e)}},{key:"renderStatic",value:function(e){var n=e.displayProperties,i=n.backgroundColor,r=n.textColor;this.clockHeadline.textContent=e.timeString,this.element.style.color=[0,2].indexOf(this.renderCount)>=0||e.isNight?"#fff":r,this.musicToggle.style.backgroundColor=i,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"renderStatic",this).call(this,e)}}]),t}(c.default);t.default=l},function(e,t,n){"use strict";function i(e){var t=e||new Date,n=t.getHours(),i=o.evening;return n<6||n>22?i=o.night:n<11?i=o.morning:n>10&&n<18&&(i=o.afternoon),i}function r(e){var t=e||new Date,n=t.getHours(),i=t.getMinutes(),r=t.getSeconds();return 0===n?n=12:n>12&&(n-=12),i<10&&(i="0"+i),r<10&&(r="0"+r),n+" "+i+" "+r}Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeOfDay=i,t.getFormattedTime=r;var o=t.timesOfDay={morning:0,afternoon:1,evening:2,night:3}},function(e,t){}]);
//# sourceMappingURL=main.bundle.js.map